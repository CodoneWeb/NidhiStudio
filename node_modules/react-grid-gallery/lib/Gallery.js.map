{"version":3,"file":"Gallery.js","sources":["../src/Gallery.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport Lightbox from 'react-images';\nimport Image from './Image.js';\nimport renderThumbs from \"./renderThumbs\";\n\nclass Gallery extends Component {\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            lightboxIsOpen: this.props.isOpen,\n            currentImage: this.props.currentImage,\n            containerWidth: this.props.defaultContainerWidth,\n        };\n\n        this.onResize = this.onResize.bind(this);\n        this.closeLightbox = this.closeLightbox.bind(this);\n        this.gotoImage = this.gotoImage.bind(this);\n        this.gotoNext = this.gotoNext.bind(this);\n        this.gotoPrevious = this.gotoPrevious.bind(this);\n        this.onClickImage = this.onClickImage.bind(this);\n        this.openLightbox = this.openLightbox.bind(this);\n        this.onSelectImage = this.onSelectImage.bind(this);\n    }\n\n    componentDidMount () {\n        this.onResize();\n    }\n\n    componentDidUpdate () {\n        if (!this._gallery) return;\n        if (this.getContainerWidth()\n            !== this.state.containerWidth){\n            this.onResize();\n        }\n    }\n\n    onResize () {\n        if (!this._gallery) return;\n        const containerWidth = this.getContainerWidth();\n        this.setState({ containerWidth });\n    }\n\n    getContainerWidth() {\n        let width = this._gallery.clientWidth;\n        try {\n            width = this._gallery.getBoundingClientRect().width;\n        } catch (err) {}\n        return Math.floor(width);\n    }\n\n    getCurrentImageIndex() {\n        return Math.min(this.state.currentImage, this.props.images.length - 1)\n    }\n\n    openLightbox (index, event) {\n        if (event) {\n            event.preventDefault();\n        }\n        if (this.props.lightboxWillOpen) {\n            this.props.lightboxWillOpen.call(this, index);\n        }\n        if (this.props.currentImageWillChange) {\n            this.props.currentImageWillChange.call(this, index);\n        }\n\n        this.setState({\n            currentImage: index,\n            lightboxIsOpen: true\n        });\n    }\n\n    closeLightbox () {\n        if (this.props.lightboxWillClose) {\n            this.props.lightboxWillClose.call(this);\n        }\n        if (this.props.currentImageWillChange) {\n            this.props.currentImageWillChange.call(this, 0);\n        }\n\n        this.setState({\n            currentImage: 0,\n            lightboxIsOpen: false\n        });\n    }\n\n    gotoPrevious () {\n        if (this.props.currentImageWillChange) {\n            this.props.currentImageWillChange.call(this, this.getCurrentImageIndex() - 1);\n        }\n        this.setState({\n            currentImage: this.getCurrentImageIndex() - 1\n        });\n    }\n\n    gotoNext () {\n        if (this.props.currentImageWillChange) {\n            this.props.currentImageWillChange.call(this, this.getCurrentImageIndex() + 1);\n        }\n        this.setState({\n            currentImage: this.getCurrentImageIndex() + 1\n        });\n    }\n\n    onClickImage () {\n        if (this.state.currentImage === this.props.images.length - 1)\n            return;\n        this.gotoNext();\n    }\n\n    onSelectImage (index, event) {\n        event.preventDefault();\n        if(this.props.onSelectImage)\n            this.props.onSelectImage.call(this, index, this.props.images[index]);\n    }\n\n    gotoImage (index) {\n        if (this.props.currentImageWillChange) {\n            this.props.currentImageWillChange.call(this, index);\n        }\n        this.setState({\n            currentImage: index\n        });\n    }\n\n    getOnClickThumbnailFn () {\n        if(!this.props.onClickThumbnail && this.props.enableLightbox)\n            return this.openLightbox;\n        if(this.props.onClickThumbnail)\n            return this.props.onClickThumbnail;\n        return null;\n    }\n\n    getOnClickLightboxThumbnailFn () {\n        if(!this.props.onClickLightboxThumbnail\n           && this.props.showLightboxThumbnails)\n            return this.gotoImage;\n        if(this.props.onClickLightboxThumbnail\n           && this.props.showLightboxThumbnails)\n            return this.props.onClickLightboxThumbnail;\n        return null;\n    }\n\n    getOnClickImageFn () {\n        if(this.props.onClickImage)\n            return this.props.onClickImage;\n        return this.onClickImage;\n    }\n\n    getOnClickPrevFn () {\n        if(this.props.onClickPrev)\n            return this.props.onClickPrev;\n        return this.gotoPrevious;\n    }\n\n    getOnClickNextFn () {\n        if(this.props.onClickNext)\n            return this.props.onClickNext;\n        return this.gotoNext;\n    }\n\n    render () {\n        const { maxRows, rowHeight, margin } = this.props\n        const { containerWidth } = this.state\n        const thumbnails = renderThumbs(this.props.images, { containerWidth, maxRows, rowHeight, margin })\n        var images = thumbnails.map((item, idx) => {\n            return <Image\n            key={\"Image-\"+idx+\"-\"+item.src}\n            item={item}\n            index={idx}\n            margin={this.props.margin}\n            height={this.props.rowHeight}\n            isSelectable={this.props.enableImageSelection}\n            onClick={this.getOnClickThumbnailFn()}\n            onSelectImage={this.onSelectImage}\n            tagStyle={this.props.tagStyle}\n            tileViewportStyle={this.props.tileViewportStyle}\n            thumbnailStyle={this.props.thumbnailStyle}\n            thumbnailImageComponent={this.props.thumbnailImageComponent}\n                />;});\n        var resizeIframeStyles = {\n            height: 0,\n            margin: 0,\n            padding: 0,\n            overflow: \"hidden\",\n            borderWidth: 0,\n            position: \"fixed\",\n            backgroundColor: \"transparent\",\n            width: \"100%\"\n        };\n        return (\n                <div id={this.props.id}\n            className=\"ReactGridGallery\"\n            ref={(c) => this._gallery = c}>\n                <iframe style={resizeIframeStyles}\n            ref={(c) => c && c.contentWindow\n                 && c.contentWindow.addEventListener('resize', this.onResize) } />\n                {images}\n                <Lightbox\n            images={this.props.images}\n            backdropClosesModal={this.props.backdropClosesModal}\n            currentImage={this.getCurrentImageIndex()}\n\t    preloadNextImage={this.props.preloadNextImage}\n            customControls={this.props.customControls}\n            enableKeyboardInput={this.props.enableKeyboardInput}\n            imageCountSeparator={this.props.imageCountSeparator}\n            isOpen={this.state.lightboxIsOpen}\n            onClickImage={this.getOnClickImageFn()}\n            onClickNext={this.getOnClickNextFn()}\n            onClickPrev={this.getOnClickPrevFn()}\n            showCloseButton={this.props.showCloseButton}\n            showImageCount={this.props.showImageCount}\n            onClose={this.closeLightbox}\n            width={this.props.lightboxWidth}\n            theme={this.props.theme}\n            onClickThumbnail={this.getOnClickLightboxThumbnailFn()}\n            showThumbnails={this.props.showLightboxThumbnails}\n\t\t{...this.props.lightBoxProps}\n                />\n                </div>\n        );\n    }\n}\n\nGallery.displayName = 'Gallery';\n\nGallery.propTypes = {\n    images: PropTypes.arrayOf(\n        PropTypes.shape({\n            src: PropTypes.string.isRequired,\n            nano: PropTypes.string,\n            alt: PropTypes.string,\n            thumbnail: PropTypes.string.isRequired,\n            srcset: PropTypes.array,\n            caption: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.element\n            ]),\n            tags: PropTypes.arrayOf(\n                PropTypes.shape({\n                    value: PropTypes.oneOfType([\n                        PropTypes.string,\n                        PropTypes.element\n                    ]).isRequired,\n                    title: PropTypes.string.isRequired,\n                    key: PropTypes.string\n                })\n            ),\n            thumbnailWidth: PropTypes.number.isRequired,\n            thumbnailHeight: PropTypes.number.isRequired,\n            isSelected: PropTypes.bool,\n            thumbnailCaption: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.element\n            ])\n        })\n    ).isRequired,\n    id: PropTypes.string,\n    enableImageSelection: PropTypes.bool,\n    onSelectImage: PropTypes.func,\n    rowHeight: PropTypes.number,\n    maxRows: PropTypes.number,\n    margin: PropTypes.number,\n    defaultContainerWidth: PropTypes.number,\n    onClickThumbnail: PropTypes.func,\n    lightboxWillOpen: PropTypes.func,\n    lightboxWillClose: PropTypes.func,\n    enableLightbox: PropTypes.bool,\n    backdropClosesModal: PropTypes.bool,\n    currentImage: PropTypes.number,\n    preloadNextImage: PropTypes.bool,\n    customControls: PropTypes.arrayOf(PropTypes.node),\n    currentImageWillChange: PropTypes.func,\n    enableKeyboardInput: PropTypes.bool,\n    imageCountSeparator: PropTypes.string,\n    isOpen: PropTypes.bool,\n    onClickImage: PropTypes.func,\n    onClickNext: PropTypes.func,\n    onClickPrev: PropTypes.func,\n    onClose: PropTypes.func,\n    showCloseButton: PropTypes.bool,\n    showImageCount: PropTypes.bool,\n    lightboxWidth: PropTypes.number,\n    tileViewportStyle: PropTypes.func,\n    thumbnailStyle: PropTypes.func,\n    showLightboxThumbnails: PropTypes.bool,\n    onClickLightboxThumbnail: PropTypes.func,\n    tagStyle: PropTypes.object,\n    thumbnailImageComponent: PropTypes.func,\n    lightBoxProps : PropTypes.object,\n};\n\nGallery.defaultProps = {\n    id: \"ReactGridGallery\",\n    enableImageSelection: true,\n    rowHeight: 180,\n    margin: 2,\n    defaultContainerWidth : 0,\n    enableLightbox: true,\n    backdropClosesModal: false,\n    currentImage: 0,\n    preloadNextImage: true,\n    enableKeyboardInput: true,\n    imageCountSeparator: ' of ',\n    isOpen: false,\n    showCloseButton: true,\n    showImageCount: true,\n    lightboxWidth: 1024,\n    showLightboxThumbnails: false,\n    lightBoxProps : {},\n};\n\nexport default Gallery;\n"],"names":["Gallery","props","state","lightboxIsOpen","isOpen","currentImage","containerWidth","defaultContainerWidth","onResize","bind","closeLightbox","gotoImage","gotoNext","gotoPrevious","onClickImage","openLightbox","onSelectImage","_gallery","getContainerWidth","setState","width","clientWidth","getBoundingClientRect","err","Math","floor","min","images","length","index","event","preventDefault","lightboxWillOpen","call","currentImageWillChange","lightboxWillClose","getCurrentImageIndex","onClickThumbnail","enableLightbox","onClickLightboxThumbnail","showLightboxThumbnails","onClickPrev","onClickNext","maxRows","rowHeight","margin","thumbnails","renderThumbs","map","item","idx","React","src","enableImageSelection","getOnClickThumbnailFn","tagStyle","tileViewportStyle","thumbnailStyle","thumbnailImageComponent","resizeIframeStyles","height","padding","overflow","borderWidth","position","backgroundColor","id","c","contentWindow","addEventListener","Lightbox","backdropClosesModal","preloadNextImage","customControls","enableKeyboardInput","imageCountSeparator","getOnClickImageFn","getOnClickNextFn","getOnClickPrevFn","showCloseButton","showImageCount","lightboxWidth","theme","getOnClickLightboxThumbnailFn","lightBoxProps","Component","displayName","propTypes","PropTypes","arrayOf","shape","string","isRequired","nano","alt","thumbnail","srcset","array","caption","oneOfType","element","tags","value","title","key","thumbnailWidth","number","thumbnailHeight","isSelected","bool","thumbnailCaption","func","node","onClose","object","defaultProps"],"mappings":"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"}